<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Research AI</title>
  <link rel="stylesheet" href="popup.css" />
</head>

<body>
<div class="container">

  <!-- HEADER -->
  <header class="header">
    <div class="header-top">
      <h1 class="title">Research AI</h1>
    </div>

    <div class="stats-grid">
      <div class="stat-card">
        <span class="stat-label">Saved Pages</span>
        <span id="pageCount" class="stat-value">0</span>
      </div>

      <div class="stat-card">
        <span class="stat-label">Active Agent</span>
        <span id="activeAgentLabel" class="stat-value">Inbox</span>
      </div>
    </div>
  </header>


  <!-- AGENT SECTION -->
  <div class="section">

    <div class="section-header">
      <label>Assistants</label>
      <button id="createAgentBtn" class="small-btn">+ New</button>
    </div>

    <!-- Searchable Agent Dropdown -->
    <input
      id="agentSearch"
      class="search-input"
      placeholder="Search assistant..."
    />

    <div id="agentDropdown" class="agent-dropdown">
      <!-- Filled dynamically -->
    </div>

  </div>


  <!-- CHAT MODE SECTION -->
  <div class="section">

    <label>Chat Mode</label>

    <select id="chatModeSelect" class="select">
      <option value="assistant">
        Assistant Knowledge
      </option>
      <option value="current_page">
        Current Page Only
      </option>
      <option value="general">
        General Chat
      </option>
    </select>

    <p id="chatModeDescription" class="mode-description">
      Search across all saved pages in selected assistant.
    </p>

  </div>


  <!-- ACTIONS -->
  <div class="action-section">

    <button id="savePageBtn" class="primary-btn">
      Save Current Page
    </button>

    <button id="openChatBtn" class="secondary-btn">
      Open Chat Workspace
    </button>

  </div>


  <!-- QUICK ASK -->
  <div class="quick-section">

    <textarea
      id="quickQuestion"
      placeholder="Ask quick question (opens chat tab)..."
    ></textarea>

    <button id="sendQuickBtn" class="send-btn">
      Ask
    </button>

  </div>


  <!-- STATUS -->
  <div id="statusMessage" class="status-message"></div>

</div>


<!-- CREATE AGENT MODAL -->
<div id="agentModal" class="modal hidden">

  <div class="modal-content">

    <h3>Create Assistant</h3>

    <input
      id="newAgentName"
      placeholder="Assistant name"
      class="modal-input"
    />

    <div class="modal-actions">
      <button id="cancelAgentBtn" class="secondary-btn">Cancel</button>
      <button id="confirmAgentBtn" class="primary-btn">Create</button>
    </div>

  </div>

</div>


<script src="popup.js"></script>
</body>
</html>
